<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<style>
  /* Disable automatic font scaling in mobile browsers */
  html {
    -webkit-text-size-adjust: 100%;
    -moz-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }
  
  /* Force landscape orientation on mobile devices */
  @media screen and (orientation: portrait) and (max-width: 768px) {
    body {
      transform: rotate(90deg);
      transform-origin: left top;
      width: 100vh;
      height: 100vw;
      overflow-x: hidden;
      position: absolute;
      top: 100%;
      left: 0;
    }
  }
</style>

<script>
  // Audio state tracking za race condition zaÅ¡titu
  window.audioReady = false;
  window.appInitialized = false;
  
  // Tablet detection i dodatni safety
  const isTablet = /tablet|ipad|playbook|silk/i.test(navigator.userAgent);
  
  document.addEventListener('DOMContentLoaded', () => {
    const audio = document.querySelector('audio');
    if (audio) {
      // Setup audio event listeners
      audio.addEventListener('canplaythrough', () => {
        window.audioReady = true;
        console.log('Audio ready for playback');
      });
      
      audio.addEventListener('loadeddata', () => {
        window.audioReady = true;
        console.log('Audio data loaded');
      });
      
      audio.addEventListener('error', (e) => {
        console.log('Audio error:', e);
        window.audioReady = false;
      });
      
      // Force load audio
      audio.load();
      
      // Tablet specific handling
      if (isTablet) {
        setTimeout(() => {
          console.log('Tablet audio initialization complete');
          window.audioReady = true;
        }, 1000);
      }
    }
  });
  
  // Backup audio ready checker
  setTimeout(() => {
    if (!window.audioReady) {
      const audio = document.querySelector('audio');
      if (audio && audio.readyState >= 2) {
        window.audioReady = true;
        console.log('Audio ready (backup check)');
      }
    }
  }, 2000);
</script>